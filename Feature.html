<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>APX ULTRA FEATURE SIGNALS</title>

<style>
body{
background:#020617;
color:white;
font-family:Arial;
text-align:center;
}

h1{
color:#00ffd5;
text-shadow:0 0 15px #00ffd5;
}

select,input{
width:85%;
padding:14px;
margin:10px;
border-radius:10px;
border:none;
background:#021a17;
color:white;
}

button{
width:85%;
padding:16px;
margin:10px;
border:none;
border-radius:15px;
background:#00ffd5;
color:black;
font-weight:bold;
box-shadow:0 0 20px #00ffd5;
}

.sendBtn{
background:#22c55e;
box-shadow:0 0 20px #22c55e;
}

.backBtn{
background:#334155;
box-shadow:0 0 20px #334155;
color:white;
}

.signal{
margin:10px;
padding:14px;
background:#021a17;
border-radius:10px remembering
box-shadow:0 0 15px #00ffd5;
}
</style>
</head>

<body>

<h1>APX ULTRA PREMIUM</h1>
<h3>UTC+6 TIMEZONE</h3>

<select id="category">
<option value="otc">OTC</option>
<option value="crypto">CRYPTO</option>
<option value="stock">STOCK</option>
</select>

<select id="mode">
<option value="single">Single Pair</option>
<option value="multi">Multi Pair</option>
</select>

<input type="time" id="start">
<input type="time" id="end">

<button onclick="generate()">Generate Real API Signals</button>

<button class="sendBtn" onclick="sendTelegram()">ðŸ“¤ Send To Telegram</button>

<button class="backBtn" onclick="goBack()">â¬… Back To Dashboard</button>

<div id="signals"></div>

<hr>

<div>
TRADING RULES<br>
Trade only at signal time<br>
1 Step Martingale Only<br>
Avoid News Time<br>
Stop After 2 Loss
</div>

<script>

const API="https://candle.mkapi009.workers.dev";
const WORKER_SEND="https://signal.mkapi009.workers.dev/send";

// PAIRS
const OTC=[
"USDPKR-OTC","USDINR-OTC","USDBRL-OTC",
"USDMXN-OTC","USDBDT-OTC","USDEGP-OTC",
"USDNGN-OTC","USDCOP-OTC","USDARS-OTC"
];

const CRYPTO=[
"BTCUSD-OTC","ETHUSD-OTC","BNBUSD-OTC",
"SOLUSD-OTC","XRPUSD-OTC","LTCUSD-OTC"
];

const STOCK=[
"MSFT-OTC","PFE-OTC","AXP-OTC","INTL-OTC"
];

let generatedSignals=[];

// CATEGORY
function getPairs(){

let c=document.getElementById("category").value;

if(c==="crypto") return CRYPTO;
if(c==="stock") return STOCK;

return OTC;
}

// API SIGNAL
async function getSignal(pair){

try{

let r=await fetch(API+"?pair="+pair+"&count=5");
let d=await r.json();

if(!d.candles || d.candles.length<2) return null;

let c1=d.candles[0];
let c2=d.candles[1];

return c1.close>c2.close ? "CALL" : "PUT";

}catch{
return null;
}

}

// RANDOM TIME
function randomTime(start,end){

let s=start.split(":");
let e=end.split(":");

let sMin=Number(s[0])*60+Number(s[1]);
let eMin=Number(e[0])*60+Number(e[1]);

let r=Math.floor(Math.random()*(eMin-sMin))+sMin;

let h=Math.floor(r/60).toString().padStart(2,"0");
let m=(r%60).toString().padStart(2,"0");

return h+":"+m;

}

// GENERATE
async function generate(){

generatedSignals=[];

let start=document.getElementById("start").value;
let end=document.getElementById("end").value;

let pairs=getPairs();
let mode=document.getElementById("mode").value;

let box=document.getElementById("signals");
box.innerHTML="";

let total= mode==="multi"?20:10;

for(let i=0;i<total;i++){

let pair= mode==="multi"
? pairs[Math.floor(Math.random()*pairs.length)]
: pairs[0];

let dir=await getSignal(pair);
if(!dir) continue;

let t=randomTime(start,end);

let sig=`M1;${pair};${t};${dir}`;

generatedSignals.push(sig);

box.innerHTML+=`<div class="signal">${sig}</div>`;

}

}

// SEND TELEGRAM
async function sendTelegram(){

if(generatedSignals.length===0){
alert("Generate Signals First");
return;
}

let text=
"ðŸš§ APX ULTRA PREMIUM ðŸš§\n\n"+
generatedSignals.join("\n")+
"\n\nPowered By APX Elite Premium";

await fetch(WORKER_SEND,{
method:"POST",
body:text
});

alert("Sent To Telegram");

}

// BACK
function goBack(){
window.location="dashboard.html";
}

</script>

</body>
</html>
