<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>APX NEURAL ADAPTIVE PRO</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">

<style>
:root{
--bg:#02060c;
--panel:#0a111f;
--neon:#00ff88;
--cyan:#00ccff;
--glow:0 0 15px #00ff88,0 0 25px #00ccff;
--text:#e0fbee;
}

body{margin:0;background:var(--bg);color:var(--text);font-family:'Rajdhani';}
header{text-align:center;padding:25px;background:black;border-bottom:4px solid var(--neon);box-shadow:var(--glow);}
.logo{font-family:'Orbitron';font-size:26px;color:var(--neon);text-shadow:0 0 15px var(--neon);}

.container{max-width:480px;margin:20px auto;padding:15px;}
.panel{background:var(--panel);border-radius:25px;padding:25px;border:2px solid rgba(0,255,136,.3);box-shadow:0 0 50px rgba(0,255,136,.2);}

.tabs{display:flex;gap:10px;margin-bottom:15px;}
.tab{flex:1;padding:10px;border:2px solid var(--neon);background:transparent;color:var(--neon);border-radius:10px;font-family:'Orbitron';cursor:pointer;font-size:11px;}
.tab.active{background:linear-gradient(135deg,var(--neon),var(--cyan));color:black;box-shadow:var(--glow);}

select,input{width:100%;padding:12px;margin-bottom:15px;background:#050d1a;border:2px solid #1a3a3a;border-radius:12px;color:white;}

button{width:100%;padding:16px;margin-top:8px;border:none;border-radius:12px;font-family:'Orbitron';font-weight:900;cursor:pointer;}
.generate{background:linear-gradient(135deg,#00ff88,#00ccff);color:black;box-shadow:var(--glow);}
.telegram{background:#0088cc;color:white;}

#output{margin-top:20px;background:#01040a;padding:18px;border-radius:15px;border:2px dashed var(--neon);white-space:pre-wrap;font-family:monospace;font-size:13px;color:#afffdf;min-height:200px;}

.loader{padding:20px;text-align:center;}
.bar{width:100%;height:10px;background:#0d1e13;border-radius:10px;overflow:hidden;margin-top:10px;}
.bar-fill{width:0%;height:100%;background:linear-gradient(90deg,#00ff88,#00ccff,#00ff88);background-size:200% 100%;animation:move 1.5s linear infinite;}
@keyframes move{0%{background-position:0%}100%{background-position:200%}}
</style>
</head>
<body>

<header><div class="logo">APX NEURAL ADAPTIVE PRO</div></header>

<div class="container">
<div class="panel">

<div class="tabs">
<button class="tab active" onclick="setMarket('OTC',this)">OTC</button>
<button class="tab" onclick="setMarket('STOCK',this)">STOCKS</button>
<button class="tab" onclick="setMarket('CRYPTO',this)">CRYPTO</button>
</div>

<select id="pairs" multiple size="6"></select>

<button class="generate" onclick="scan()">DEEP ADAPTIVE SCAN</button>
<button class="telegram" onclick="sendTG()">SEND TELEGRAM</button>

<div id="output">SYSTEM READY...</div>

</div>
</div>

<script>

const API="https://apx.mkapi009.workers.dev?pair=";
const TG="https://signal.mkapi009.workers.dev/send";

let FINAL=[];
let RUN=false;

const ASSETS={
OTC:["USDPKR-otc","USDBDT-otc","USDINR-otc","USDARS-otc","USDNGN-otc","BRLUSD-otc","USDMXN-otc","USDEGP-otc","USDIDR-otc"],
STOCK:["MSFSTK-otc","AXPSTK-OTC","PFESTK-otc","MCDSTK-otc","JNJSTK-otc"],
CRYPTO:["XAUUSD-otc","BTCUSD-otc","ETHUSD-otc"]
};

function setMarket(type,btn){
document.querySelectorAll(".tab").forEach(b=>b.classList.remove("active"));
btn.classList.add("active");
pairs.innerHTML="";
ASSETS[type].forEach(p=>{
let o=document.createElement("option");
o.value=p;
o.textContent=p.replace(/-otc|-OTC/gi,'');
pairs.appendChild(o);
});
}
setMarket("OTC",document.querySelector(".tab.active"));

function EMA(d,p){
if(d.length<p)return null;
let k=2/(p+1);
let ema=d[d.length-p].close;
for(let i=d.length-p+1;i<d.length;i++){
ema=d[i].close*k+ema*(1-k);
}
return ema;
}

function RSI(d,per=14){
if(d.length<per+1)return 50;
let g=0,l=0;
for(let i=d.length-per;i<d.length;i++){
let diff=d[i].close-d[i-1].close;
if(diff>0)g+=diff;else l-=diff;
}
let rs=g/(l||1);
return 100-(100/(1+rs));
}

function strengthScore(c){
if(c.length<200)return null;
let s=c.slice(-200);
let e20=EMA(s,20),e50=EMA(s,50);
if(!e20||!e50)return null;
let trend=e20>e50?2:-2;
let r=RSI(s);
let rScore=r<40?1:(r>60?-1:0);
let momentum=0;
for(let i=s.length-30;i<s.length;i++){
let d=s[i].close-s[i-1].close;
momentum+=d>0?1:-1;
}
let total=trend+rScore+(momentum/15);
if(total>=2)return{dir:"CALL",power:total};
if(total<=-2)return{dir:"PUT",power:Math.abs(total)};
return null;
}

async function scan(){
if(RUN)return;
RUN=true;
FINAL=[];
output.innerHTML='<div class="loader">SCANNING...<div class="bar"><div class="bar-fill"></div></div></div>';

let selected=[...pairs.selectedOptions].map(o=>o.value);
if(!selected.length){output.innerText="Select pairs.";RUN=false;return;}

let pool=[];
for(let p of selected){
try{
let r=await fetch(API+p);
let j=await r.json();
let res=strengthScore(j.data||[]);
if(res)pool.push({pair:p.replace(/-otc|-OTC/gi,''),...res});
}catch{}
}

if(!pool.length){
output.innerText="No strong structure found.";
RUN=false;
return;
}

pool.sort((a,b)=>b.power-a.power);
let top=pool.slice(0,3);

let dirCount={CALL:0,PUT:0};
let now=new Date();
for(let i=1;i<=15;i++){
let t=new Date(now.getTime()+i*60000);
let pick=top[i%top.length];

if(dirCount[pick.dir]>dirCount[pick.dir==="CALL"?"PUT":"CALL"]+3){
pick=top.find(x=>x.dir!==pick.dir)||pick;
}

dirCount[pick.dir]++;
FINAL.push({time:t.toTimeString().slice(0,5),pair:pick.pair,dir:pick.dir});
}

render();
RUN=false;
}

function render(){
let txt="APX ADAPTIVE PRO\n";
txt+="‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n";
txt+="UTC+6 | 1 MIN EXP\n";
txt+="‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n";
FINAL.forEach(s=>{
txt+=`${s.pair.padEnd(10)} ${s.time}   ${s.dir}\n`;
});
txt+="\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nTrade exact time\nStop after 2 losses\n";
output.innerText=txt;
}

async function sendTG(){
if(!FINAL.length)return alert("Scan first.");

let loading="üü©‚¨ú‚¨ú‚¨ú‚¨ú";
await fetch(TG,{method:"POST",body:"APX Adaptive Loading...\n"+loading});
await new Promise(r=>setTimeout(r,2000));

let msg="üìä APX ADAPTIVE PRO üìä\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nUTC+6 | 1 MIN EXP\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n";
FINAL.forEach(s=>{
msg+=`${s.pair.padEnd(8)} ${s.time}   ${s.dir}\n`;
});
msg+="\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nTrade exact time\nStop after 2 losses\nPowered by APX Premium";

await fetch(TG,{method:"POST",body:msg});
alert("Sent.");
}

</script>
</body>
</html>
