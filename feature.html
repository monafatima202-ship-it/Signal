<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>APX ULTRA VIP</title>

<style>
body{
background:#020617;
color:white;
font-family:Arial;
text-align:center;
}

.title{
font-size:32px;
color:#00ffd5;
text-shadow:0 0 20px #00ffd5;
margin:20px;
}

.btn, select, input{
width:85%;
margin:10px;
padding:14px;
border-radius:14px;
border:none;
font-size:17px;
background:#00ffd5;
color:black;
box-shadow:0 0 15px #00ffd5;
}

.out{
margin:20px;
padding:20px;
background:#07122b;
border-radius:15px;
white-space:pre-line;
}
</style>
</head>

<body>

<div class="title">ðŸ”¥ APX ULTRA VIP ðŸ”¥</div>

<select id="category" class="btn">
<option>OTC</option>
<option>CRYPTO</option>
<option>STOCK</option>
</select>

<select id="mode" class="btn">
<option value="single">Single Pair</option>
<option value="multi">Multi Pair</option>
</select>

<select id="pair" class="btn"></select>

<input type="time" id="start" class="btn">
<input type="time" id="end" class="btn">

<button class="btn" onclick="generate()">ðŸš€ Generate Signals</button>
<button class="btn" onclick="sendTG()">ðŸ“© Send Telegram</button>

<div class="out" id="out">Signals will appear here</div>

<script>

// ===== CONFIG =====
const API="https://candle.mkapi009.workers.dev/";
const TG="https://signal.mkapi009.workers.dev/send";

const OTC=[
"USDPKR-OTC","USDINR-OTC","USDBRL-OTC",
"USDMXN-OTC","USDBDT-OTC","USDARS-OTC",
"USDEGP-OTC","USDCOP-OTC"
];

const CRYPTO=[
"BTCUSD-OTC","ETHUSD-OTC","BNBUSD-OTC"
];

const STOCK=[
"MSFT-OTC","PFE-OTC","AXP-OTC","INTC-OTC"
];

let SIGNALS=[];

// ===== LOAD PAIRS =====
function loadPairs(){
let list=OTC;
if(category.value==="CRYPTO") list=CRYPTO;
if(category.value==="STOCK") list=STOCK;

pair.innerHTML="";
list.forEach(p=>{
let o=document.createElement("option");
o.text=p;
pair.add(o);
});
}
category.onchange=loadPairs;
loadPairs();

// ===== RANDOM TIME RANGE =====
function randomBetween(start,end){

let s=start.split(":");
let e=end.split(":");

let startMin=parseInt(s[0])*60+parseInt(s[1]);
let endMin=parseInt(e[0])*60+parseInt(e[1]);

let rand=Math.floor(Math.random()*(endMin-startMin))+startMin;

let h=Math.floor(rand/60);
let m=rand%60;

return ("0"+h).slice(-2)+":"+("0"+m).slice(-2);
}

// ===== GET TREND =====
function trend(c){
let up=0,down=0;
for(let i=0;i<3;i++){
if(c[i].close>c[i].open) up++;
else down++;
}
if(up>=2) return "CALL";
if(down>=2) return "PUT";
return null;
}

// ===== GENERATE =====
async function generate(){

SIGNALS=[];
out.innerText="Generating...";

let list=[];
if(mode.value==="single"){
list=[pair.value];
}else{
if(category.value==="OTC") list=OTC;
if(category.value==="CRYPTO") list=CRYPTO;
if(category.value==="STOCK") list=STOCK;
}

for(let i=0;i<20;i++){

let p=list[Math.floor(Math.random()*list.length)];

try{

let r=await fetch(API+"?pair="+p+"&count=6");
let d=await r.json();

if(!d.candles) continue;

let t=trend(d.candles);
if(!t) continue;

let time=randomBetween(start.value,end.value);

SIGNALS.push(
"â§‰ M1;"+p+";"+time+" âž£ "+t
);

}catch(e){}

}

show();

}

// ===== SHOW =====
function show(){

if(SIGNALS.length===0){
out.innerText="No Signals Generated";
return;
}

out.innerText=
"ðŸ”¥ APX ULTRA VIP ðŸ”¥\n\n"+
SIGNALS.join("\n")+

"\n\n===================="+
"\nUTC+6 Timezone"+
"\nExpiry: 1 Minute"+
"\nMoney Management: 1 Step MTG"+
"\n===================="+

"\n\nTRADING RULES:"+
"\nTrade only at signal time"+
"\n1 Step Martingale Only"+
"\nAvoid News Time"+
"\nStop After 2 Loss"+

"\n\nðŸ‘‘ Powered by APX Elite Premium";

}

// ===== TELEGRAM SEND =====
async function sendTG(){

if(SIGNALS.length===0){
alert("Generate Signals First");
return;
}

await fetch(TG,{
method:"POST",
body:SIGNALS.join("\n")
});

alert("Sent To Telegram");

}

</script>

</body>
</html>
