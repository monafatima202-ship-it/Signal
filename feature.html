<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>APX ULTRA VIP</title>

<style>

body{
background:linear-gradient(180deg,#020617,#020617,#07122b);
font-family:Arial;
color:white;
text-align:center;
margin:0;
}

.title{
font-size:30px;
color:#00ff9d;
text-shadow:0 0 25px #00ff9d;
margin-top:25px;
}

.card{
width:90%;
margin:auto;
padding:20px;
background:rgba(15,23,42,0.9);
border-radius:18px;
box-shadow:0 0 25px rgba(0,255,157,0.3);
margin-top:20px;
}

select,input,button{
width:95%;
padding:14px;
margin:8px;
border-radius:14px;
border:none;
font-size:16px;
}

select,input{
background:#020617;
color:#00ff9d;
border:1px solid #00ff9d55;
}

button{
background:#00ff9d;
color:black;
font-weight:bold;
box-shadow:0 0 15px #00ff9d;
}

.out{
margin:20px;
padding:18px;
background:#020617;
border-radius:15px;
white-space:pre-line;
border:1px solid #00ff9d33;
}

</style>
</head>

<body>

<div class="title">ðŸ”¥ APX ULTRA VIP ENGINE ðŸ”¥</div>

<div class="card">

<select id="category">
<option>OTC</option>
<option>CRYPTO</option>
<option>STOCK</option>
</select>

<select id="mode">
<option value="single">Single Pair</option>
<option value="multi">Multi Pair</option>
</select>

<select id="pair"></select>

<input type="time" id="start">
<input type="time" id="end">

<button onclick="generate()">ðŸš€ Generate Signals</button>
<button onclick="sendTG()">ðŸ“© Send Telegram</button>

</div>

<div class="out" id="out">Signals will appear here</div>

<script>

const API="https://candle.mkapi009.workers.dev/";
const TG="https://signal.mkapi009.workers.dev/send";

const OTC=["USDPKR-OTC","USDINR-OTC","USDBRL-OTC","USDMXN-OTC","USDBDT-OTC","USDARS-OTC","USDEGP-OTC","USDCOP-OTC"];
const CRYPTO=["BTCUSD-OTC","ETHUSD-OTC","BNBUSD-OTC"];
const STOCK=["MSFT-OTC","PFE-OTC","AXP-OTC","INTC-OTC"];

let SIGNALS=[];

// ===== LOAD PAIRS
function loadPairs(){
let list=OTC;
if(category.value==="CRYPTO") list=CRYPTO;
if(category.value==="STOCK") list=STOCK;

pair.innerHTML="";
list.forEach(p=>{
let o=document.createElement("option");
o.text=p;
pair.add(o);
});
}
category.onchange=loadPairs;
loadPairs();

// ===== RANDOM TIME
function randTime(){
let s=start.value||"00:00";
let e=end.value||"23:59";

let sMin=parseInt(s.split(":")[0])*60+parseInt(s.split(":")[1]);
let eMin=parseInt(e.split(":")[0])*60+parseInt(e.split(":")[1]);

let r=Math.floor(Math.random()*(eMin-sMin))+sMin;

return String(Math.floor(r/60)).padStart(2,"0")+":"+String(r%60).padStart(2,"0");
}

// ===== TREND CHECK
function trend(c){
let up=0,down=0;
for(let i=0;i<3;i++){
if(c[i].close>c[i].open) up++;
else down++;
}
if(up>=2) return "CALL";
if(down>=2) return "PUT";
return Math.random()>0.5?"CALL":"PUT"; // fallback
}

// ===== GENERATE SIGNALS
async function generate(){

SIGNALS=[];
out.innerText="Generating Ultra Signals...";

let list=[];
if(mode.value==="single"){
list=[pair.value];
}else{
if(category.value==="OTC") list=OTC;
if(category.value==="CRYPTO") list=CRYPTO;
if(category.value==="STOCK") list=STOCK;
}

for(let i=0;i<20;i++){

let p=list[Math.floor(Math.random()*list.length)];

try{

let r=await fetch(API+"?pair="+p+"&count=6");
let d=await r.json();

let dir="CALL";

if(d.candles){
dir=trend(d.candles);
}else{
dir=Math.random()>0.5?"CALL":"PUT";
}

SIGNALS.push("â§‰ M1;"+p+";"+randTime()+" âž£ "+dir);

}catch{
SIGNALS.push("â§‰ M1;"+p+";"+randTime()+" âž£ "+(Math.random()>0.5?"CALL":"PUT"));
}

}

show();
}

// ===== SHOW
function show(){
out.innerText=
"ðŸ”¥ APX ULTRA VIP ðŸ”¥\n\n"+
SIGNALS.join("\n")+

"\n\n===================="+
"\nUTC+6 Timezone"+
"\nExpiry: 1 Minute"+
"\nMoney Management: 1 Step MTG"+
"\n===================="+

"\n\nTRADING RULES:"+
"\nTrade only at signal time"+
"\n1 Step Martingale Only"+
"\nAvoid News Time"+
"\nStop After 2 Loss"+

"\n\nðŸ‘‘ Powered by APX Elite Premium";
}

// ===== TELEGRAM SEND
async function sendTG(){
if(SIGNALS.length===0){
alert("Generate First");
return;
}
await fetch(TG,{method:"POST",body:SIGNALS.join("\n")});
alert("Sent To Telegram");
}

</script>

</body>
</html>
